raw_input = """......................................................................S......................................................................
.............................................................................................................................................
......................................................................^......................................................................
.............................................................................................................................................
.....................................................................^.^.....................................................................
.............................................................................................................................................
....................................................................^...^....................................................................
.............................................................................................................................................
...................................................................^.^...^...................................................................
.............................................................................................................................................
..................................................................^.^.....^..................................................................
.............................................................................................................................................
.................................................................^.^.^.....^.................................................................
.............................................................................................................................................
................................................................^...^...^...^................................................................
.............................................................................................................................................
...............................................................^.^.^.^.....^.^...............................................................
.............................................................................................................................................
..............................................................^.^.^.^.^...^.^.^..............................................................
.............................................................................................................................................
.............................................................^.^.^.^.^.^...^.^.^.............................................................
.............................................................................................................................................
............................................................^.^.^.^.^.^.^...^...^............................................................
.............................................................................................................................................
...........................................................^.....^.^.^.^.^.^.^...^...........................................................
.............................................................................................................................................
..........................................................^...^.^.^.^.^.^.^.....^.^..........................................................
.............................................................................................................................................
.........................................................^.^.^.^.^.^.^.^.^.^.^.^...^.........................................................
.............................................................................................................................................
........................................................^.^...^.....^.^.^...^.^.^...^........................................................
.............................................................................................................................................
.......................................................^.^.^.^.^.^.^.^.......^.^.^.^.^.......................................................
.............................................................................................................................................
......................................................^.^.......^.^.....^...^.^.^.^.^.^......................................................
.............................................................................................................................................
.....................................................^.^...^.......^.^.^.^...^.^.^.^.^.^.....................................................
.............................................................................................................................................
....................................................^.^.^...^.^.^...^.^.^...^.......^.^.^....................................................
.............................................................................................................................................
...................................................^.^.^.^...^.^.^.^.^.^.....^.^.^.^.^...^...................................................
.............................................................................................................................................
..................................................^.^.^.^.^.^.^.^...^.^.^.^.........^.^...^..................................................
.............................................................................................................................................
.................................................^.....^.....^.^.^.......^.......^.....^...^.................................................
.............................................................................................................................................
................................................^.^.....^.^...^.^.^.^...^...^.....^.^...^.^.^................................................
.............................................................................................................................................
...............................................^.......^.^.......^.^.^.^...^.^.^.^...^.^.^.^.^...............................................
.............................................................................................................................................
..............................................^.^.^.^.^...........^.^.^.^.^.....^.^.^.^...^.^.^..............................................
.............................................................................................................................................
.............................................^...^.^.^.^.^.^.^.^...^...^.....^...^.^...^.^.^.^.^.............................................
.............................................................................................................................................
............................................^.^.......^.^.^.^...^.^...^.^.....^.^.^.^.^.^.^.^.^.^............................................
.............................................................................................................................................
...........................................^.^...^...^.^.^...^...^.^.^...^.^.^.^.^.^.^.^.......^.^...........................................
.............................................................................................................................................
..........................................^...^.^.^.^...^.^.^.^.....^.....^.^.^.^.^.^.^.^.^.^.....^..........................................
.............................................................................................................................................
.........................................^...^.^.^.^.^.^...^.^.^.^.^.^.^...^...^.^.^.^.^.^.^.^.^.^.^.........................................
.............................................................................................................................................
........................................^.^.^.^.^...^.^.^.^...^.....^.^...^.^...^...^.^.^...^...^.^.^........................................
.............................................................................................................................................
.......................................^.^...^.^.....^...^...^.^.^.^.^.^.^.^...^.^.^.^.^.^.^.^.^.....^.......................................
.............................................................................................................................................
......................................^.^.^.^.^.....^.....^.^.^...^.....^.^.^.^...^.^.^.^.^.^...^...^.^......................................
.............................................................................................................................................
.....................................^...^...^...........^.^.^.^.....^...^...^.^...^.^...^.^.^...^...^.^.....................................
.............................................................................................................................................
....................................^.^.^.^.^.^.^.^.....^.^.....^.^.^...^...^.^.^...^.^...^...^.^...^.^.^....................................
.............................................................................................................................................
...................................^.^.^.^.^...^.^.....^...^.^.^.^.^...^.^...^.......^.^.^.^.^.^.^.^.^.^.^...................................
.............................................................................................................................................
..................................^.^...^.^...^.^.^.^.^.^.^...^.^.^.....^.^.^.^.^...^.^.^.^...^.^.^.^...^.^..................................
.............................................................................................................................................
.................................^...^...^.^.^...^.^.^.^...^.^.^...^.^.....^.^.^.^.^.^.......^.^.^.^...^.^.^.................................
.............................................................................................................................................
................................^.^.^.^...^.^.....^.^...^...^.^.^.^.^.^.^.^...^.^.^.^.^.^...^.^...^.^.^.^.^.^................................
.............................................................................................................................................
...............................^.^.^.....^.^.^.^.^.^.^.^.^.^.^.^...^...^...^.....^...^.^...^.^.^.^.^.^.^.^.^.^...............................
.............................................................................................................................................
..............................^.^.^.^.^.^.^.^.^...^.....^.....^...^.^.^.^.^.^...^.^.^...^.^.^.^.^...^...^.^.^.^..............................
.............................................................................................................................................
.............................^.^.^.^.....^.....^...^.^.^.^...^.^.^...^.^.^.^.^.^.^.^.^.^...^.^...^.^.^.^.^.^...^.............................
.............................................................................................................................................
............................^.^...^.^.^.^.^...^.....^...^.....^.^.^.^...^.^.^.^.^...^.^...^.^.^...^.^.^.^.......^............................
.............................................................................................................................................
...........................^.^...^.^...^...^.^.^...^.^.^.^.^...^.^.^.......^.^...^.^.^.^.^...^.^.^.^.^.^.^.^.^.^.^...........................
.............................................................................................................................................
..........................^.^.^.^.^...^.^.^.^.^.^...^.^.....^.^.....^...^.^.^.^.^...^.^...^.^.^.^.^.^.^.^.^...^.^.^..........................
.............................................................................................................................................
.........................^.^...^...^.....^.^.^.^.^.....^.^...^.^.^...^.^.^...^.^.^.^.^...^...^...^.....^.^.^.^...^.^.........................
.............................................................................................................................................
........................^.^.^.....^.^.^.^.^...^...^.^.^.^.^.^.^.^.^.....^.^.^.^.^.^...^.^...^.^...^...^.^.^...^.^.^.^........................
.............................................................................................................................................
.......................^.....^.^.^...^.^.^.^.^.^.^.^.^...^.^...^...^.^.^.^...^...^.^.^.........^...^.^.^.^.^.^...^...^.......................
.............................................................................................................................................
......................^.^...^.^.^.......^.........^.^.^.....^.^.....^...^.^.^.^.....^.^...^.^.^.^.^.......^.....^.^...^......................
.............................................................................................................................................
.....................^.^.^...^.^.^.^.^.^.^.^.^.^...^...^...^.^.^.......^.......^...^.^.^.^.^.^...^...^.^.^.^.^.^.^.....^.....................
.............................................................................................................................................
....................^...^.......^.^.^...^.^.^.^.^.^.^.^.....^...^.^.^...^.^.^.....^.^...^.^.^.^...^.....^...^.......^...^....................
.............................................................................................................................................
...................^.^.^...^.^.^.^.^.^.^.^.^.......^.^.^.^.^.^.^.^.........^.....^...^.^.^...^.......^...^.^.^.......^...^...................
.............................................................................................................................................
..................^.....^.^.^.^.^.^...^.^.^.^.^.^.....^.^.^.^.^.^.^...^...^.^...^.^.^.^.^.^...^.^...^.^.^...^.^.^.^.^.^...^..................
.............................................................................................................................................
.................^.^.^.^.^.^.^.^.^.^.^...^...^.^.^.^.....^...^.^...^.^...^.^.^.^.^.....^.^...^.........^.^...^.....^.^.^...^.................
.............................................................................................................................................
................^.^.^.^.^...^...^.^...^.^.....^.^...^.^.^.^...^.^.^.^.^.^.^...^...^.^.^.^.....^.....^.^...^.^.^.^.^.^.^.^.^.^................
.............................................................................................................................................
...............^.....^...^.^.^.^...^.^...^...^.^.^.^.^.^...^.^.....^.^.^...^.^.^.^.^.^...^.^.....^.^...^.....^.^.......^.^.^.^...............
.............................................................................................................................................
..............^.^.^.^.....^.^.....^.^.^.^...^.^.^.^.^.^...^.^.^...^.^.^.^.^.^...^.^.^.^.^.^.^.^.^...^.....^.^.^.^.^.^.^...^.^.^..............
.............................................................................................................................................
.............^.^.....^...^.^.^.^.^...^.^.....^.^.^.....^...^.....^...^.^.^.^.^.^...^...^...^.^.......^.^...^.^.^.^.^.........^.^.............
.............................................................................................................................................
............^.^...^.^.^...^...^.^...^.^.^.^.....^.....^.^.....^.^...^.^.....^.^.^.........^.^.^.^.....^.^...^...^...^.^.....^.^.^............
.............................................................................................................................................
...........^.^.^.^.^.^...^.^.^.^.^.^.^...^.^.^.^.^.^.^...^...^.^...^.....^.^...^...^.^.^...^...^...^.....^.^.^.^.^.^.^.^.^...^.^.^...........
.............................................................................................................................................
..........^...^.^.^.^.^.....^.^.^.^.^.........^.^.......^.^.^.^...^.^...^.^.^.^.^.^.^...^.^...^.^.^...^.^...^.^.^.^.^.^...^...^.^.^..........
.............................................................................................................................................
.........^...^...^.^.^...^...........^...^.^.^.^.^.....^...^.^...^.^.^.^...^.^.^.^.^.^.^.^...^.^.^.^.^.^.^...^.^.^.^.^...^.^.^.^.^.^.........
.............................................................................................................................................
........^...^.^.^.^.^.^...^...^...^.^.....^.^.^.^.^.^.^.......^...^.^.^.^.^.^...^...^...^.^.^...^.^...^.......^.^.^.^.^.....^...^...^........
.............................................................................................................................................
.......^.^.^.....^.^.^.^.^.^.^...^.^.^.......^...^...^.^.^.^.^.^...^.^.^.^.^.^.^...^...^.^.^.^...^.^.^.^.^...^.^.^...^.^.^.^...^.....^.......
.............................................................................................................................................
......^.^...^.^.^.^.^.^.......^.^.^.^.^.^.^...^.^.^...^.^.^.^...^.^.^.^.....^...^.^.^.....^.^.^.^...^.^.^.^.....^.^.^...^...^...^...^.^......
.............................................................................................................................................
.....^.^.^.^.....^.^.^...^.....^...^...^.^...^.^.^.^.^...^.^.^...^...^.^.^.^.^.^.^...^.^.^.^.^.^...^...^.........^.^...^.^.^.^.^.^.^.^.^.....
.............................................................................................................................................
....^...^.....^.^.^...^...^.....^.^.^...^.^...^.^.^...^.^.^.....^...^...........^.^...^.^.^.^.^.^.^.....^.^.....^.^.^.^...^.^.^.^...^...^....
.............................................................................................................................................
...^.....^.^...^...^.^.^.^.^.^.^...^...^.^...^...^.^...^.^.^.^.^...^.....^.^.^.^.^.^...^.^.^.^...^.^.^.^.^.....^.^.^.^.....^.^.^.^.......^...
.............................................................................................................................................
..^.^.^...^...^.^...^...^.^.^.^...^.^.^...^...^.^.^.^.^.......^.^.^.^.^.^.......^.^.^.^...^.^.^.^...^.^.^.^.^.....^.^.^.....^.^...^.^.^.^.^..
.............................................................................................................................................
.^.^.^.....^.^.........^...^.^.......^...^.^.^...^.^.^.^.^.^.^.^.^.^.^.^.^...^.^.^...........^.^...^.^.^.^.^.^.......^.^.^.^.......^.^.^.^.^.
............................................................................................................................................."""

raw_input = raw_input.splitlines()
raw_input = [list(s) for s in raw_input]
# print(raw_input)

def solution(raw_input: list[list[str]])-> int:
    count = [0]
    start_pos = (-1, -1)
    for i in range(len(raw_input)):
        for j in range(len(raw_input[i])):
            if raw_input[i][j] == "S":
                start_pos = (i, j)
                break
    if start_pos == (-1, -1):
        return -1
    visited = set()
    i, j = start_pos
    helper(raw_input, i + 1, j, count, visited)
    return count[0]
def helper(raw_input: list[list[str]], i: int, j: int, count: int, visited: set)-> int:
    if i >= len(raw_input) or j < 0 or j >= len(raw_input[i]):
        return 
    if (i, j) in visited:
        return
    visited.add((i, j))
    if raw_input[i][j] == "^":
        count[0] += 1
        helper(raw_input, i + 1, j - 1, count, visited)
        helper(raw_input, i + 1, j + 1, count, visited)
    else:
        helper(raw_input, i + 1, j, count, visited)
    

print(solution(raw_input))